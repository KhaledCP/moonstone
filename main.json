{"meta":{"generator":"0.9.0","format":20,"date":1621035258180},"custom":{"general":{"name":"General","files":{"README":{"name":"Welcome","type":"md","content":"Moonstone [![NPM version](https://img.shields.io/npm/v/moonstone-wrapper.svg?style=flat-square&color=informational)](https://npmjs.com/package/moonstone-wrapper)\n====\n\nA simple, standalone, [dogehouse.tv](https://dogehouse.tv/) API wrapper\n\n<!-- GETTING STARTED -->\n## Installing\n\nYou will need NodeJS and NPM. To install moonstone on your local project, run:\n```\nnpm install --no-optional moonstone-wrapper\n```\n**If you need audio support, remove the `--no-optional`.**\n\n<!-- USAGE EXAMPLES -->\n## Usage\n\nYou can use the example from below to see how you can use moonstone.\n\nPing Pong Example\n-----------------\n\n```js\nconst Moonstone = require(\"moonstone-wrapper\");\n\nvar bot = Moonstone(\"TOKEN\"); // Replace TOKEN with your bot account's token\n\nbot.on(\"ready\", async () => { // When the bot is ready\n  console.log(`Ready! Logged in as ${bot.user.username}`); // Log \"Ready!\"\n  const topRooms = await bot.getTopRooms(); // Grab the top rooms\n  bot.joinRoom(topRooms[0]); // Join the top room\n});\n\nbot.on(\"newChatMsg\", (msg) => { // When a message is created\n  if (msg.content === \"!ping\") { // If the message content is \"!ping\"\n    msg.room.sendChatMessage(\"Pong!\"); // Send a message in the same channel with \"Pong!\"\n  } else if (msg.content === \"!pong\") { // Otherwise, if the message is \"!pong\"\n    msg.user.sendWhisper(\"Ping!\"); // Whisper to the user with \"Ping!\"\n  }\n});\n\nbot.connect(); // Get the bot to connect to Dogehouse\n```\n\nMore examples can be found in [the examples folder](https://github.com/fuwwy/moonstone/tree/main/examples).\n - [Welcomer Example](https://github.com/fuwwy/moonstone/blob/main/examples/welcomer.js)\n - [Music Example](https://github.com/fuwwy/moonstone/blob/main/examples/music.js)\n\n\n## Support\nYou can find me on the [DogeGarden Discord](https://discord.gg/pPaXCRrVrh) (Checkium#4508) or my own [official support server](https://discord.gg/hDj42dMhn9).\n\n<!-- LICENSE -->\n## License\n\nDistributed under the MIT License. See `LICENSE` for more information.\n","path":"README.md"}}}},"classes":[{"name":"Moonstone","description":"Represents the main Moonstone client","extends":[[["EventEmitter"]]],"construct":{"name":"Moonstone","description":"Create an instance of Moonstone","params":[{"name":"token","type":[[["String"]],[["Object"]]]},{"name":"options","description":"Moonstone options","optional":true,"type":[[["Object"]]]},{"name":"options.socketUrl","description":"The dogehouse socket url","optional":true,"type":[[["String"]]]},{"name":"options.autoReconnect","description":"Whether moonstone should auto reconnect automatically","optional":true,"type":[[["Boolean"]]]},{"name":"options.connectionTimeout","description":"How long in milliseconds to wait for an answer from the server","optional":true,"type":[[["Number"]]]},{"name":"options.callbackTimeout","description":"How long in milliseconds to wait for a fetch reply from the server.","optional":true,"type":[[["Number"]]]},{"name":"options.logUnhandledPackets","description":"Log packets that aren't handled by the event listener (debug).","optional":true,"type":[[["Boolean"]]]}]},"methods":[{"name":"connect","description":"Attempts to connect to Dogehouse","meta":{"line":62,"file":"Moonstone.js","path":"lib"}},{"name":"getTopRooms","description":"Get the top dashboard rooms","params":[{"name":"cursor","description":"The pagination cursor","optional":true,"default":0,"type":[[["Number"]]]}],"returns":[[["Promise","<"],["Array","<"],["Room",">>"]]],"meta":{"line":525,"file":"Moonstone.js","path":"lib"}},{"name":"joinRoom","description":"Joins a room","params":[{"name":"room","description":"The room to join","type":[[["Room"]]]}],"returns":[[["Promise","<"],["ActiveRoom",">"]]],"meta":{"line":542,"file":"Moonstone.js","path":"lib"}},{"name":"createRoom","description":"Creates a room","params":[{"name":"options","description":"The room options","type":[[["Object"]]]},{"name":"options.name","description":"The room name","type":[[["String"]]]},{"name":"options.description","description":"The room description","optional":true,"type":[[["String"]]]},{"name":"options.privacy","description":"The room privacy","optional":true,"type":[[["String"]]]}],"returns":[[["Promise","<"],["Room",">"]]],"meta":{"line":567,"file":"Moonstone.js","path":"lib"}},{"name":"createBotAccount","description":"Creates a bot account","params":[{"name":"username","description":"The new bot account username","type":[[["String"]]]}],"returns":[[["Promise","<"],["Object",">"]]],"meta":{"line":585,"file":"Moonstone.js","path":"lib"}},{"name":"setRole","description":"Sets a user's role in the current room.","params":[{"name":"role","description":"The role to set the user as (raised_hand/listener/speaker)","type":[[["string"]]]},{"name":"user","description":"The user to set the role on, defaults to self.","optional":true,"type":[[["User"]]]}],"returns":[[["Promise"]]],"meta":{"line":641,"file":"Moonstone.js","path":"lib"}},{"name":"sendChatMessage","description":"Sends a chat message in the current room.","params":[{"name":"content","description":"Message content","type":[[["String"]],[["function"]],[["Object"]]]},{"name":"whisperedTo","description":"A list of users to whisper the message to","optional":true,"type":[[["Array","<"],["User",">"]]]}],"meta":{"line":693,"file":"Moonstone.js","path":"lib"}},{"name":"setSpeaking","description":"Sets whether the bot is speaking or not (red circle around picture)","params":[{"name":"value","description":"Whether the bot is speaking or not.","type":[[["Boolean"]]]}],"meta":{"line":712,"file":"Moonstone.js","path":"lib"}},{"name":"setUserAuthLevel","description":"Sets a user's auth level","params":[{"name":"user","description":"The user to apply the change on","type":[[["ActiveUser"]]]},{"name":"authLevel","description":"The user's auth level","type":[[["AuthLevel"]]]}],"meta":{"line":721,"file":"Moonstone.js","path":"lib"}},{"name":"editSelf","description":"Edits properties of the user","params":[{"name":"options","description":"The properties to edit","type":[[["Object"]]]},{"name":"options.username","description":"The new username","optional":true,"type":[[["String"]]]},{"name":"options.displayName","description":"The new display name","optional":true,"type":[[["String"]]]},{"name":"options.avatarUrl","description":"The new avatar url","optional":true,"type":[[["String"]]]},{"name":"options.bannerUrl","description":"The new banner url","optional":true,"type":[[["String"]]]},{"name":"options.bio","description":"The new bio","optional":true,"type":[[["String"]]]}],"meta":{"line":743,"file":"Moonstone.js","path":"lib"}}],"events":[{"name":"ready","description":"Fired when the connection is established","meta":{"line":211,"file":"Moonstone.js","path":"lib"}},{"name":"newTokens","description":"Fired when new auth tokens are sent by the server.","meta":{"line":224,"file":"Moonstone.js","path":"lib"}},{"name":"joinedRoom","description":"Fired when the bot joins a room.","meta":{"line":236,"file":"Moonstone.js","path":"lib"}},{"name":"userJoinRoom","description":"Fired when a user joins the room the bot is in.","meta":{"line":252,"file":"Moonstone.js","path":"lib"}},{"name":"userLeftRoom","description":"Fired when a user leaves the room the bot is in.","meta":{"line":267,"file":"Moonstone.js","path":"lib"}},{"name":"activeSpeakerChange","description":"Fired when a user starts or stops speaking","meta":{"line":282,"file":"Moonstone.js","path":"lib"}},{"name":"muteChange","description":"Fired when a user mutes or unmutes their microphone.","meta":{"line":291,"file":"Moonstone.js","path":"lib"}},{"name":"deafenChange","description":"Fired when a user deafens or undeafens their headphones.","meta":{"line":300,"file":"Moonstone.js","path":"lib"}},{"name":"newChatMsg","description":"Fired when a new chat message is received.","meta":{"line":330,"file":"Moonstone.js","path":"lib"}},{"name":"joinAsPeer","description":"Fired when the bot join a room as peer (listener).","meta":{"line":355,"file":"Moonstone.js","path":"lib"}},{"name":"joinedAsSpeaker","description":"Fired when the bot join a room as speaker.","meta":{"line":377,"file":"Moonstone.js","path":"lib"}},{"name":"becameSpeaker","description":"Fired when the bot becomes a speaker in a room.","meta":{"line":394,"file":"Moonstone.js","path":"lib"}},{"name":"handRaised","description":"Fired when a user raises their hand.","meta":{"line":411,"file":"Moonstone.js","path":"lib"}},{"name":"speakerAdded","description":"Fired when a user is added as a speaker.","meta":{"line":427,"file":"Moonstone.js","path":"lib"}},{"name":"speakerRemoved","description":"Fired when a user is removed as a speaker.","meta":{"line":445,"file":"Moonstone.js","path":"lib"}},{"name":"leftRoom","description":"Fired when the bot leaves a room.","meta":{"line":460,"file":"Moonstone.js","path":"lib"}},{"name":"modChange","description":"Fired when a user's moderator permission changes.","meta":{"line":476,"file":"Moonstone.js","path":"lib"}}],"meta":{"line":22,"file":"Moonstone.js","path":"lib"}},{"name":"AudioConnection","description":"Represents an audio connection","extends":[[["EventEmitter"]]],"methods":[{"name":"play","description":"Play an audio resource.","examples":["// Play a local audio file\nconnection.play('/home/hydrabolt/audio.mp3', { volume: 0.5 });","// Play a ReadableStream\nconnection.play(ytdl('https://www.youtube.com/watch?v=ZlAU_w7-Xp8', { quality: 'highestaudio' }));","// Play a voice broadcast\nconst broadcast = client.voice.createBroadcast();\nbroadcast.play('/home/hydrabolt/audio.mp3');\nconnection.play(broadcast);","// Using different protocols: https://ffmpeg.org/ffmpeg-protocols.html\nconnection.play('http://www.sample-videos.com/audio/mp3/wave.mp3');"],"params":[{"name":"resource","description":"The resource to play","type":[[["ReadableStream"]],[["string"]]]},{"name":"options","description":"The options to play.","optional":true,"type":[[["StreamOptions"]]]}],"returns":[[["AudioDispatcher"]]],"meta":{"line":65,"file":"AudioConnection.js","path":"lib/audio"}},{"name":"setSpeaking","description":"Set the client speaking state","params":[{"name":"speaking","type":[[["Boolean"]]]}],"async":true,"meta":{"line":97,"file":"AudioConnection.js","path":"lib/audio"}}],"meta":{"line":20,"file":"AudioConnection.js","path":"lib/audio"}},{"name":"VolumeInterface","description":"An interface class for volume transformation.","extends":[[["EventEmitter"]]],"props":[{"name":"volumeEditable","description":"Whether or not the volume of this stream is editable","readonly":true,"type":[[["boolean"]]],"meta":{"line":18,"file":"VolumeInterface.js","path":"lib/audio"}},{"name":"volume","description":"The current volume of the stream","readonly":true,"type":[[["number"]]],"meta":{"line":27,"file":"VolumeInterface.js","path":"lib/audio"}},{"name":"volumeDecibels","description":"The current volume of the stream in decibels","readonly":true,"type":[[["number"]]],"meta":{"line":36,"file":"VolumeInterface.js","path":"lib/audio"}},{"name":"volumeLogarithmic","description":"The current volume of the stream from a logarithmic scale","readonly":true,"type":[[["number"]]],"meta":{"line":45,"file":"VolumeInterface.js","path":"lib/audio"}}],"methods":[{"name":"setVolume","description":"Sets the volume relative to the input stream - i.e. 1 is normal, 0.5 is half, 2 is double.","params":[{"name":"volume","description":"The volume that you want to set","type":[[["number"]]]}],"meta":{"line":70,"file":"VolumeInterface.js","path":"lib/audio"}},{"name":"setVolumeDecibels","description":"Sets the volume in decibels.","params":[{"name":"db","description":"The decibels","type":[[["number"]]]}],"meta":{"line":85,"file":"VolumeInterface.js","path":"lib/audio"}},{"name":"setVolumeLogarithmic","description":"Sets the volume so that a perceived value of 0.5 is half the perceived volume etc.","params":[{"name":"value","description":"The value for the volume","type":[[["number"]]]}],"meta":{"line":93,"file":"VolumeInterface.js","path":"lib/audio"}}],"events":[{"name":"volumeChange","description":"Emitted when the volume of this interface changes.","params":[{"name":"oldVolume","description":"The old volume of this interface","type":[[["number"]]]},{"name":"newVolume","description":"The new volume of this interface","type":[[["number"]]]}],"meta":{"line":71,"file":"VolumeInterface.js","path":"lib/audio"}}],"meta":{"line":7,"file":"VolumeInterface.js","path":"lib/audio"}},{"name":"ActiveRoom","description":"Represents a room that you are connected to","methods":[{"name":"askToSpeak","description":"Sets your role as raised hand","async":true,"returns":[[["Promise"]]],"meta":{"line":78,"file":"ActiveRoom.js","path":"lib/core"}},{"name":"sendChatMessage","description":"Sends a chat message","params":[{"name":"content","description":"The message content","type":[[["String"]],[["function"]],[["Object"]]]}],"async":true,"returns":[[["Promise"]]],"meta":{"line":87,"file":"ActiveRoom.js","path":"lib/core"}},{"name":"connect","description":"Connects to the room's audio server","async":true,"returns":[[["Promise","<"],["AudioConnection",">"]]],"meta":{"line":95,"file":"ActiveRoom.js","path":"lib/core"}}],"meta":{"line":13,"file":"ActiveRoom.js","path":"lib/core"}},{"name":"ActiveUser","description":"Represents a user who is connected to the same room as you","methods":[{"name":"sendWhisper","description":"Sends a whisper to the user","params":[{"name":"content","description":"The message content","type":[[["String"]],[["function"]],[["Object"]]]}],"async":true,"returns":[[["Promise"]]],"meta":{"line":37,"file":"ActiveUser.js","path":"lib/core"}},{"name":"setAsListener","description":"Sets the user's role as listener","async":true,"returns":[[["Promise"]]],"meta":{"line":45,"file":"ActiveUser.js","path":"lib/core"}},{"name":"setAsSpeaker","description":"Sets the user's role as speaker","async":true,"returns":[[["Promise"]]],"meta":{"line":53,"file":"ActiveUser.js","path":"lib/core"}},{"name":"setAuthLevel","description":"Sets the user's auth status","params":[{"name":"authLevel","description":"The new auth level","type":[[["AuthLevel"]]]}],"meta":{"line":61,"file":"ActiveUser.js","path":"lib/core"}}],"meta":{"line":16,"file":"ActiveUser.js","path":"lib/core"}},{"name":"Message","description":"Represents a chat message","meta":{"line":11,"file":"Message.js","path":"lib/core"}},{"name":"Room","description":"Represents a room","meta":{"line":10,"file":"Room.js","path":"lib/core"}},{"name":"User","description":"Represents a user","meta":{"line":18,"file":"User.js","path":"lib/core"}},{"name":"Collection","description":"Hold a bunch of something","extends":[[["Map"]]],"construct":{"name":"Collection","description":"Construct a Collection","params":[{"name":"baseObject","description":"The base class for all items","type":[[["Class"]]]},{"name":"limit","description":"Max number of items to hold","optional":true,"type":[[["Number"]]]}]},"methods":[{"name":"update","description":"Update an object","params":[{"name":"obj","description":"The updated object data","type":[[["Object"]]]},{"name":"obj.id","description":"The ID of the object","type":[[["String"]]]},{"name":"extra","description":"An extra parameter the constructor may need","optional":true,"type":[[["Class"]]]},{"name":"replace","description":"Whether to replace an existing object with the same ID","optional":true,"type":[[["Boolean"]]]}],"returns":{"types":[[["Class"]]],"description":"The updated object"},"meta":{"line":29,"file":"Collection.js","path":"lib/utils"}},{"name":"add","description":"Add an object","params":[{"name":"obj","description":"The object data","type":[[["Object"]]]},{"name":"obj.id","description":"The ID of the object","type":[[["String"]]]},{"name":"extra","description":"An extra parameter the constructor may need","optional":true,"type":[[["Class"]]]},{"name":"replace","description":"Whether to replace an existing object with the same ID","optional":true,"type":[[["Boolean"]]]}],"returns":{"types":[[["Class"]]],"description":"The existing or newly created object"},"meta":{"line":49,"file":"Collection.js","path":"lib/utils"}},{"name":"every","description":"Returns true if all elements satisfy the condition","params":[{"name":"func","description":"A function that takes an object and returns true or false","type":[[["function"]]]}],"returns":{"types":[[["Boolean"]]],"description":"Whether or not all elements satisfied the condition"},"meta":{"line":88,"file":"Collection.js","path":"lib/utils"}},{"name":"filter","description":"Return all the objects that make the function evaluate true","params":[{"name":"func","description":"A function that takes an object and returns true if it matches","type":[[["function"]]]}],"returns":{"types":[[["Array","<"],["Class",">"]]],"description":"An array containing all the objects that matched"},"meta":{"line":102,"file":"Collection.js","path":"lib/utils"}},{"name":"find","description":"Return the first object to make the function evaluate true","params":[{"name":"func","description":"A function that takes an object and returns true if it matches","type":[[["function"]]]}],"returns":{"types":[[["Class"]]],"description":"The first matching object, or undefined if no match","nullable":true},"meta":{"line":117,"file":"Collection.js","path":"lib/utils"}},{"name":"map","description":"Return an array with the results of applying the given function to each element","params":[{"name":"func","description":"A function that takes an object and returns something","type":[[["function"]]]}],"returns":{"types":[[["Array"]]],"description":"An array containing the results"},"meta":{"line":131,"file":"Collection.js","path":"lib/utils"}},{"name":"random","description":"Get a random object from the Collection","returns":{"types":[[["Class"]]],"description":"The random object, or undefined if there is no match","nullable":true},"meta":{"line":143,"file":"Collection.js","path":"lib/utils"}},{"name":"reduce","description":"Returns a value resulting from applying a function to every element of the collection","params":[{"name":"func","description":"A function that takes the previous value and the next item and returns a new value","type":[[["function"]]]},{"name":"initialValue","description":"The initial value passed to the function","optional":true,"type":[[["any"]]]}],"returns":{"types":[[["any"]]],"description":"The final result"},"meta":{"line":158,"file":"Collection.js","path":"lib/utils"}},{"name":"remove","description":"Remove an object","params":[{"name":"obj","description":"The object","type":[[["Object"]]]},{"name":"obj.id","description":"The ID of the object","type":[[["String"]]]}],"returns":{"types":[[["Class"]]],"description":"The removed object, or null if nothing was removed","nullable":true},"meta":{"line":174,"file":"Collection.js","path":"lib/utils"}},{"name":"some","description":"Returns true if at least one element satisfies the condition","params":[{"name":"func","description":"A function that takes an object and returns true or false","type":[[["function"]]]}],"returns":{"types":[[["Boolean"]]],"description":"Whether or not at least one element satisfied the condition"},"meta":{"line":188,"file":"Collection.js","path":"lib/utils"}}],"meta":{"line":9,"file":"Collection.js","path":"lib/utils"}}],"interfaces":[],"typedefs":[],"externals":[]}